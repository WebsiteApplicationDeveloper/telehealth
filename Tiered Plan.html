<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Telehealth + Aesthetic Commerce — Proposal</title>

<!-- =========================
     COLOR / THEME VARIABLES
     Edit these to change the palette quickly
     ========================= -->
<style>
:root{
  /* Primary palette */
  --primary-grad-start: #4b2bff;      /* purplish-blue start */
  --primary-grad-end:   #2bb6ff;      /* purplish-blue end */
  --accent-1: #b9ff3b;                /* greenish-yellow accent */
  --accent-2-start: #ff6a00;          /* orange-red gradient start */
  --accent-2-end: #ff004f;            /* orange-red gradient end */

  /* Neutral palette */
  --bg: #0f1226;
  --card-bg: #0e1424;
  --muted: #99a1b3;
  --glass: rgba(255,255,255,0.04);

  /* Typography */
  --heading: 700;
  --base-font: 16px;
  --radius: 14px;

  /* Shadows */
  --elev-1: 0 6px 18px rgba(11,14,28,0.6);
  --elev-2: 0 14px 40px rgba(2,6,23,0.75);
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  margin:0;
  background: linear-gradient(180deg, #071026 0%, #07101b 100%);
  color:#eaf0ff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-size:var(--base-font);
  line-height:1.45;
}

/* Watermark pattern using brand logo placeholder (replace #logoData with actual path/base64) */
:root{--logo-url: 'logo.png';}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background-image: url(var(--logo-url));
  background-repeat: repeat;
  background-size: 280px;
  opacity:0.03;
  pointer-events:none;
  transform:rotate(-8deg);
  filter:grayscale(1) contrast(0.6);
  z-index:0;
}

/* Page container */
.container{
  max-width:1200px;
  margin:36px auto;
  padding:28px;
  position:relative;
  z-index:2;
}

/* Header */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  margin-bottom:28px;
}
.brand{
  display:flex;
  align-items:center;
  gap:14px;
}
.brand img{
  width:64px;
  height:64px;
  object-fit:contain;
  border-radius:10px;
  background: linear-gradient(135deg,var(--primary-grad-start),var(--primary-grad-end));
  padding:6px;
  box-shadow: var(--elev-1);
}
.brand h1{margin:0;font-size:20px;letter-spacing:0.2px}
.brand p{margin:0;color:var(--muted);font-size:13px}

/* Hero */
.hero{
  display:grid;
  grid-template-columns: 1fr 420px;
  gap:24px;
  align-items:stretch;
  margin-bottom:28px;
}
.hero-card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  border-radius:18px;
  padding:28px;
  box-shadow:var(--elev-2);
  border:1px solid rgba(255,255,255,0.04);
  overflow:hidden;
}
.hero h2{
  margin:0 0 10px 0;
  font-size:28px;
  line-height:1.05;
  letter-spacing:-0.4px;
  background:linear-gradient(90deg,var(--primary-grad-start),var(--primary-grad-end));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.lead{color:var(--muted);margin-bottom:16px}
.cta-row{display:flex;gap:12px;align-items:center;margin-top:8px}

/* CTA buttons */
.btn{
  border:0;
  padding:12px 18px;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
  min-width:130px;
  box-shadow: 0 10px 30px rgba(10,10,30,0.6);
}
.btn-primary{
  background: linear-gradient(90deg,var(--accent-2-start),var(--accent-2-end));
  color:white;
}
.btn-outline{
  background:transparent;
  border:1px solid rgba(255,255,255,0.06);
  color:var(--accent-1);
}

/* Stats */
.stats{
  display:flex;
  gap:12px;
  margin-top:18px;
}
.stat{
  flex:1;
  padding:14px;
  border-radius:12px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  border:1px solid rgba(255,255,255,0.03);
  text-align:center;
}
.stat .num{font-size:20px;font-weight:700}
.stat .lbl{font-size:12px;color:var(--muted)}

/* Right column card (animated chart) */
.side-card{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.kpi{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  background:linear-gradient(90deg,var(--primary-grad-start),var(--primary-grad-end));
  border-radius:12px;
  color:white;
  box-shadow:0 8px 30px rgba(43,43,103,0.6);
}
.kpi small{opacity:0.9}

/* Sections grid */
.sections{
  display:grid;
  grid-template-columns: 1fr;
  gap:18px;
  margin-top:18px;
}

/* Card for each section */
.section-card{
  padding:20px;
  border-radius:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow: var(--elev-1);
}
.section-card h3{margin:0 0 10px 0;color:linear-gradient(90deg,var(--primary-grad-start),var(--primary-grad-end))}

/* Feature matrix */
.feature-matrix{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.card-small{
  flex:1 1 180px;
  min-width:180px;
  background:var(--glass);
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.03);
}

/* Pricing cards */
.pricing{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
}
.price-card{
  flex:1 1 280px;
  background:linear-gradient(180deg, rgba(255,255,255,0.012), transparent);
  border-radius:14px;
  padding:18px;
  border:1px solid rgba(255,255,255,0.035);
  transform:translateY(0);
  transition:transform 300ms ease, box-shadow 300ms ease;
}
.price-card:hover{ transform:translateY(-8px); box-shadow:0 20px 50px rgba(0,0,0,0.6);}
.price-card .title{font-size:16px;font-weight:700}
.price-card .price{font-size:26px;font-weight:800;margin:8px 0}
.badge{
  display:inline-block;padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;
  background:linear-gradient(90deg,var(--accent-1),#e6ff77); color:#071026;
}

/* Chart container */
.charts{display:grid;grid-template-columns:1fr 380px;gap:18px}
.canvas-wrap{background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent); padding:12px;border-radius:12px;height:300px}

/* Tables */
.table{
  width:100%;
  border-collapse:collapse;
  margin-top:12px;
  font-size:13px;
}
.table th, .table td{
  padding:10px 12px; text-align:left; border-bottom:1px dashed rgba(255,255,255,0.03);
}
.table th{color:var(--muted);font-weight:700}

/* Competitor grid */
.competitors{display:flex;gap:12px;flex-wrap:wrap}

/* Footer & ribbon note */
.footer{
  margin-top:22px;
  padding:12px;
  border-radius:10px;
  background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);
  text-align:center;
  color:var(--muted);
}
.ribbon{
  margin-top:22px;
  padding:14px;
  border-radius:10px;
  background:linear-gradient(90deg,var(--accent-2-start),var(--accent-2-end));
  color:white;
  font-weight:700;
  box-shadow:0 16px 40px rgba(255,80,80,0.12);
}

/* Responsive */
@media (max-width:980px){
  .hero{grid-template-columns:1fr;}
  .charts{grid-template-columns:1fr;}
  .container{padding:18px}
}

/* Micro interactions: animated counter */
.counter {font-weight:800;font-size:22px}
.fade-in{opacity:0; transform:translateY(12px); transition: all 520ms ease-out;}
.revealed{opacity:1; transform:none;}
</style>
</head>
<body>

<!-- Main container -->
<div class="container" role="main" aria-labelledby="proposal-title">

  <!-- Header -->
  <header class="header" role="banner">
    <div class="brand" aria-hidden="false">
      <!-- Replace logo.png in same folder or set base64 in style -- see usage notes -->
      <img id="brandLogo" src="logo.png" alt="Company Logo">
      <div>
        <h1 id="proposal-title">Telehealth + Aesthetic Commerce Platform</h1>
        <p>Dermatology • Dentistry • Cosmetic Clinics — AI-first marketplace</p>
      </div>
    </div>
    <div style="text-align:right">
      <div style="font-size:12px;color:var(--muted)">Proposal</div>
      <div style="font-weight:800;font-size:14px">Production-ready platform • Tiered plans</div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" aria-label="Project Overview">
    <div class="hero-card">
      <h2>One app: Diagnose. Recommend. Book. Pay.</h2>
      <p class="lead">AI-powered Saudi-Arabic chat that reads photos, suggests medical and cosmetic treatments, and converts patients to bookings with one-tap commerce.</p>

      <div class="stats" aria-hidden="true">
        <div class="stat">
          <div class="num counter" data-target="25">0</div>
          <div class="lbl">Projected conversion uplift (%)</div>
        </div>
        <div class="stat">
          <div class="num counter" data-target="10k">0</div>
          <div class="lbl">Target MAU (Year 1)</div>
        </div>
        <div class="stat">
          <div class="num counter" data-target="100">0</div>
          <div class="lbl">Clinics onboard (Year 1)</div>
        </div>
      </div>

      <div class="cta-row">
        <button class="btn btn-primary" onclick="scrollToSection('pricing')">View Plans</button>
        <button class="btn btn-outline" onclick="scrollToSection('mrd')">Read MRD</button>
      </div>

      <div style="margin-top:18px;color:var(--muted);font-size:13px">
        <strong>Key outcomes:</strong> 25% higher conversions | <strong>20% faster booking</strong> | PDPL-compliant platform
      </div>
    </div>

    <aside class="side-card">
      <div class="kpi">
        <div>
          <div style="font-size:12px;color:rgba(255,255,255,0.9)">Projected Revenue (Yr1)</div>
          <div style="font-size:18px;font-weight:800">$650K</div>
        </div>
        <small>Assumes 10k MAU, 3% conversion, $70 avg order</small>
      </div>

      <div class="hero-card" style="padding:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:700">Engagement Trend</div>
          <div style="font-size:12px;color:var(--muted)">Projected</div>
        </div>
        <div id="sparkline" class="canvas-wrap" style="height:160px;margin-top:10px"></div>
      </div>
    </aside>
  </section>

  <!-- Sections -->
  <div class="sections">

    <!-- Strategy & Overview -->
    <section class="section-card" id="strategy" tabindex="0" aria-labelledby="strategy-heading">
      <h3 id="strategy-heading">Strategy & Overview</h3>
      <div style="display:flex;gap:18px;flex-wrap:wrap">
        <div style="flex:1;min-width:260px">
          <h4 style="margin:6px 0">Goals & Objectives</h4>
          <ul style="color:var(--muted);margin:6px 0 0 18px">
            <li>Achieve 10,000 MAU and onboard 100 clinics within 12 months.</li>
            <li>Increase booking conversion by 25% vs. standard booking apps within 6 months of launch.</li>
            <li>Target 3% conversion rate on AI referrals and $650K revenue in Year 1 (assumptions below).</li>
          </ul>
        </div>
        <div style="flex:1;min-width:260px">
          <h4 style="margin:6px 0">Key Needs & Market Trends</h4>
          <p style="color:var(--muted);margin:6px 0">Saudi telehealth demand rising ~20% CAGR; cosmetic procedures in GCC grew ~12% YoY. Users expect fast, localized experiences — an Arabic-first AI chat plus one-tap commerce meets both needs.</p>
        </div>
      </div>
    </section>

    <!-- Target Audience -->
    <section class="section-card" id="audience">
      <h3>Target Audience</h3>
      <div style="display:flex;gap:18px;flex-wrap:wrap">
        <div style="min-width:240px;flex:1">
          <h4>Demographics</h4>
          <ul style="color:var(--muted);margin:6px 0 0 18px">
            <li>Age: 18–45 (primary), 46–60 (secondary)</li>
            <li>70% female / 30% male; urban (Riyadh, Jeddah, Dammam)</li>
            <li>Median disposable income bracket: mid-to-high</li>
          </ul>
        </div>
        <div style="min-width:240px;flex:1">
          <h4>Personas</h4>
          <ul style="color:var(--muted);margin:6px 0 0 18px">
            <li><strong>Aisha, 29</strong>: Regular aesthetic client – wants quick booking & loyalty perks</li>
            <li><strong>Faisal, 38</strong>: Concerned about skin issue – seeks fast, trusted diagnosis</li>
            <li><strong>Clinic Manager</strong>: Needs analytics & appointment management</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Technical Details -->
    <section class="section-card" id="tech">
      <h3>Technical Details</h3>
      <div style="display:flex;gap:14px;flex-wrap:wrap">
        <div style="flex:1;min-width:260px">
          <h4>Stack & Integrations</h4>
          <ul style="color:var(--muted);margin:6px 0 0 18px">
            <li>Mobile: React Native (single codebase) or Flutter (optional)</li>
            <li>Backend: Node.js (NestJS) or FastAPI (Python)</li>
            <li>DB: PostgreSQL, Cache: Redis, Storage: S3-compatible</li>
            <li>AI: integrate pretrained models (DermEngine-style) + custom Saudi Arabic NLP</li>
            <li>Payments: Apple Pay, STC Pay, Stripe, Tap, Moyasar</li>
          </ul>
        </div>
        <div style="flex:1;min-width:260px">
          <h4>Architecture (high-level)</h4>
          <p style="color:var(--muted);margin:6px 0">Modular microservices: API gateway → Auth service → AI inference service (GPU) → Payments → Clinic & Patient services. CDN for images and horizontal scaling for peak traffic.</p>
        </div>
      </div>
      <div style="margin-top:8px;color:var(--muted);font-size:13px">Security: PDPL-first design, TLS everywhere, RBAC, VAPT before production.</div>
    </section>

    <!-- Feature Priority -->
    <section class="section-card" id="features">
      <h3>Feature Priority & Visual Matrix</h3>
      <p style="color:var(--muted);margin-top:6px">Prioritized to deliver maximum business impact early. Visual matrix below shows Must → Should → Could.</p>

      <div class="feature-matrix" style="margin-top:12px">
        <div class="card-small"><strong>Must</strong><ul style="margin:8px 0 0 12px;color:var(--muted)"><li>AI chat + photo QC</li><li>One-tap checkout</li><li>Clinic dashboard (scheduling)</li></ul></div>
        <div class="card-small"><strong>Should</strong><ul style="margin:8px 0 0 12px;color:var(--muted)"><li>Loyalty & coupons</li><li>WhatsApp reminders</li><li>Arabic-first UX</li></ul></div>
        <div class="card-small"><strong>Could</strong><ul style="margin:8px 0 0 12px;color:var(--muted)"><li>AR preview</li><li>Insurance (NPHIES)</li></ul></div>
      </div>
    </section>

    <!-- Pricing Plans -->
    <section class="section-card" id="pricing">
      <h3>Pricing Plans — Tiered</h3>
      <div class="pricing" aria-hidden="false">
        <!-- BASIC -->
        <div class="price-card" aria-label="Basic Plan">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="title">Basic</div><div class="badge">Starter</div>
          </div>
          <div class="price">$45,000</div>
          <div style="color:var(--muted);font-size:13px">MVP: core patient app, simple clinic booking, basic chatbot (no image AI).</div>
          <ul style="color:var(--muted);margin-top:10px">
            <li>OTP login, profile, basic booking</li>
            <li>Stripe/Apple Pay, single-region</li>
            <li>Admin panel (limited)</li>
          </ul>
        </div>

        <!-- STANDARD -->
        <div class="price-card" aria-label="Standard Plan">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="title">Standard</div><div class="badge">Growth</div>
          </div>
          <div class="price">$65,000</div>
          <div style="color:var(--muted);font-size:13px">Full e-commerce flow, basic image AI (off-the-shelf), localization, loyalty system.</div>
          <ul style="color:var(--muted);margin-top:10px">
            <li>AI photo QC + suggestions</li>
            <li>Multi-gateway payments & localization</li>
            <li>Clinic dashboard & analytics</li>
          </ul>
        </div>

        <!-- PREMIUM -->
        <div class="price-card" aria-label="Premium Plan">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="title">Premium</div><div class="badge">Enterprise</div>
          </div>
          <div class="price">$90,600</div>
          <div style="color:var(--muted);font-size:13px">Custom Saudi Arabic AI, advanced clinic workflows, full PDPL & VAPT, scale-ready infra.</div>
          <ul style="color:var(--muted);margin-top:10px">
            <li>Custom AI models & GPU inference</li>
            <li>Performance SLA, advanced security</li>
            <li>60-day warranty + handover</li>
          </ul>
        </div>
      </div>

      <!-- Comparative table -->
      <div style="margin-top:18px;overflow:auto">
        <table class="table" role="table" aria-label="Plans comparison">
          <thead><tr><th>Feature</th><th>Basic</th><th>Standard</th><th>Premium</th></tr></thead>
          <tbody>
            <tr><td>AI Chat</td><td>Simple chatbot</td><td>Photo QC + suggestions</td><td>Custom Saudi-NLP + image diagnosis (≥85%)</td></tr>
            <tr><td>Payments</td><td>Stripe / Apple Pay</td><td>+ STC Pay, Tap</td><td>All + advanced refunds & deposits</td></tr>
            <tr><td>Clinics</td><td>Up to 50</td><td>Up to 150</td><td>1000+ (scalable)</td></tr>
            <tr><td>Performance SLA</td><td>Basic</td><td>Better</td><td>2.5s cold start, 400ms API</td></tr>
            <tr><td>Warranty</td><td>30 days</td><td>45 days</td><td>60 days</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Estimations & Financials -->
    <section class="section-card" id="estimates">
      <h3>Estimations & Financials</h3>
      <p style="color:var(--muted)">Assumptions: Avg order value $70, 3% conversion, 10k MAU Year 1.</p>

      <div style="display:flex;gap:14px;flex-wrap:wrap">
        <div style="flex:1;min-width:260px">
          <h4>Year 1 Revenue Projection</h4>
          <table class="table">
            <thead><tr><th>Metric</th><th>Value</th></tr></thead>
            <tbody>
              <tr><td>Monthly Active Users (MAU)</td><td>10,000</td></tr>
              <tr><td>Conversion Rate</td><td>3%</td></tr>
              <tr><td>Avg Order Value</td><td>$70</td></tr>
              <tr><td>Estimated Orders (Yr1)</td><td>10,000 * 12 * 0.03 = 3,600</td></tr>
              <tr><td>Gross Revenue (Yr1)</td><td>3,600 * $70 = $252,000</td></tr>
              <tr><td>Platform Commission (10%)</td><td>$25,200</td></tr>
            </tbody>
          </table>
        </div>

        <div style="flex:1;min-width:260px">
          <h4>ROI Example — Premium</h4>
          <table class="table">
            <thead><tr><th>Item</th><th>Value</th></tr></thead>
            <tbody>
              <tr><td>Initial Cost</td><td>$90,600</td></tr>
              <tr><td>Year 1 Commission Revenue</td><td>$25,200</td></tr>
              <tr><td>Clinic Upsell (est. +20%)</td><td>$50,000 (estimate)</td></tr>
              <tr><td>Net Year 1 Return (est.)</td><td>$25,200 + $50,000 - $90,600 = -$15,400</td></tr>
              <tr><td>Year 2 Projected Revenue</td><td>$150,000 (scale & retention)</td></tr>
            </tbody>
          </table>
          <div style="color:var(--muted);font-size:13px;margin-top:8px">Note: expected breakeven in Year 2 with growth & retention strategies.</div>
        </div>
      </div>
    </section>

    <!-- Competitor Snapshot -->
    <section class="section-card" id="competitors">
      <h3>Competitor Snapshot</h3>
      <div class="competitors">
        <div style="flex:1;min-width:200px" class="card-small">
          <strong>DermEngine</strong><div style="color:var(--muted);font-size:13px">Strong skin AI; limited commerce.</div>
        </div>
        <div style="flex:1;min-width:200px" class="card-small">
          <strong>FirstDerm</strong><div style="color:var(--muted);font-size:13px">Tele-dermatology; doctor-first flows.</div>
        </div>
        <div style="flex:1;min-width:200px" class="card-small">
          <strong>Vezeeta</strong><div style="color:var(--muted);font-size:13px">Clinic booking leader (MENA); few AI features.</div>
        </div>
      </div>
      <div style="margin-top:12px;color:var(--muted)">We combine AI diagnostics + in-app commerce to fill the gap.</div>
    </section>

    <!-- SWOT -->
    <section class="section-card" id="swot">
      <h3>SWOT Summary</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div style="flex:1;min-width:200px" class="card-small"><strong>Strengths</strong><ul style="color:var(--muted);margin:8px 0 0 12px"><li>Localized Saudi Arabic AI</li><li>One-tap commerce</li></ul></div>
        <div style="flex:1;min-width:200px" class="card-small"><strong>Weaknesses</strong><ul style="color:var(--muted);margin:8px 0 0 12px"><li>AI training cost</li><li>Regulatory review time</li></ul></div>
        <div style="flex:1;min-width:200px" class="card-small"><strong>Opportunities</strong><ul style="color:var(--muted);margin:8px 0 0 12px"><li>GCC expansion</li><li>AR cosmetic preview</li></ul></div>
        <div style="flex:1;min-width:200px" class="card-small"><strong>Threats</strong><ul style="color:var(--muted);margin:8px 0 0 12px"><li>Competitor AI adoption</li><li>Data privacy incidents</li></ul></div>
      </div>
    </section>

    <!-- Support & Next Steps -->
    <section class="section-card" id="next">
      <h3>Support & Next Steps</h3>
      <ol style="color:var(--muted)">
        <li>Confirm tier (Basic / Standard / Premium) — sign off on scope.</li>
        <li>Kickoff: 2-week discovery & compliance checklist.</li>
        <li>Deliver sprint-based releases (2-week sprints) and staging deployments.</li>
        <li>App-store submissions & QA → launch & 60-day warranty (Premium).</li>
      </ol>
    </section>

    <!-- Call to action -->
    <section class="section-card" id="conclusion">
      <h3>Conclusion & Call to Action</h3>
      <p style="color:var(--muted)">We deliver a PDPL-ready, Arabic-first telehealth marketplace that combines diagnosis with revenue-driving commerce. Choose the Premium plan for full AI, performance SLAs, and security — or start with Standard and upgrade later. All communication and payments must follow Freelancer policies (see note below).</p>
    </section>

  </div>

  <!-- Charts -->
  <div style="margin-top:24px" class="section-card">
    <h3>Interactive Charts & Comparative Graphs</h3>
    <div class="charts">
      <div class="canvas-wrap" id="barChart" aria-hidden="false"></div>
      <div class="canvas-wrap" id="stackChart" aria-hidden="false"></div>
    </div>
    <div style="margin-top:12px;color:var(--muted);font-size:13px">Hover chart bars for details. Charts animate into view on scroll.</div>
  </div>

  <!-- MRD: embedded section anchors -->
  <div id="mrd" class="section-card" style="margin-top:18px;">
    <h3>Market Requirements Document (MRD)</h3>
    <div style="color:var(--muted);font-size:13px;margin-bottom:12px">Full MRD included below — printable and copy-ready.</div>

    <!-- MRD content inserted here (full detailed MRD as requested) -->
    <div id="mrd-content" style="background:linear-gradient(90deg,rgba(255,255,255,0.01),transparent);padding:14px;border-radius:10px;color:#eaf0ff;font-size:14px;line-height:1.4;">

      <!-- MRD: 1. Document History -->
      <h4>1. Document History</h4>
      <table class="table" style="margin-bottom:12px;">
        <thead><tr><th>Date</th><th>Revision</th><th>Description</th><th>Author</th></tr></thead>
        <tbody>
          <tr><td>23-Sep-2025</td><td>v1.0</td><td>Initial MRD for Telehealth + Aesthetic Commerce Platform</td><td>Product Team</td></tr>
        </tbody>
      </table>

      <!-- 2. TOC -->
      <h4>2. Table of Contents</h4>
      <ol style="color:var(--muted);margin-left:18px;margin-bottom:12px">
        <li>Strategy & Overview</li>
        <li>Problem Alignment</li>
        <li>Competitor Analysis</li>
        <li>SWOT</li>
        <li>USPs</li>
        <li>Proposed Functionalities</li>
        <li>Estimates & Pricing Tables</li>
        <li>Appendix: KPIs, Market Sizing, User Flows</li>
      </ol>

      <!-- 3. Strategy & Overview -->
      <h4>3. Strategy & Overview</h4>
      <h5>3.1 Goals & Objectives</h5>
      <ul style="color:var(--muted)">
        <li>Primary objective: Build and launch an AI-driven telehealth & aesthetic marketplace for Saudi Arabia with <strong>10,000 MAU</strong> and <strong>100 clinics</strong> onboarded in Year 1.</li>
        <li>Performance objective: achieve <strong>25% uplift in booking conversion</strong> for AI referrals within 6 months post-launch.</li>
        <li>Financial objective: generate a platform commission revenue of at least <strong>$200K by Year 2</strong> (scale assumptions in Section 8).</li>
      </ul>

      <h5>3.2 Strategic Roadmap (Quarterly)</h5>
      <table class="table" style="margin-bottom:12px">
        <thead><tr><th>Quarter</th><th>Milestones</th></tr></thead>
        <tbody>
          <tr><td>Q1 (Month 0–3)</td><td>Discovery, design, basic MVP backend, payment integrations, Apple/Play Store compliance checklist</td></tr>
          <tr><td>Q2 (Month 3–6)</td><td>Mobile patient app & clinic dashboard v1, integrate off-the-shelf AI for photo QC, pilot 10 clinics</td></tr>
          <tr><td>Q3 (Month 6–9)</td><td>Custom Saudi Arabic NLP, expand to 100 clinics, loyalty & marketing tools</td></tr>
          <tr><td>Q4 (Month 9–12)</td><td>Performance optimization, VAPT, prepare Phase 2: AR & insurance integration</td></tr>
        </tbody>
      </table>

      <h5>3.3 Key Participants (RACI)</h5>
      <table class="table" style="margin-bottom:12px">
        <thead><tr><th>Role</th><th>Responsibilities</th><th>RACI</th></tr></thead>
        <tbody>
          <tr><td>Product Owner</td><td>Prioritize backlog, stakeholder alignment</td><td>R/A</td></tr>
          <tr><td>Lead Developer (Mobile)</td><td>Build React Native app, CI/CD</td><td>R</td></tr>
          <tr><td>AI/ML Engineer</td><td>Model integration, training Saudi Arabic NLP</td><td>R</td></tr>
          <tr><td>Backend Engineer</td><td>APIs, payments, infra</td><td>R</td></tr>
          <tr><td>QA/DevOps</td><td>Testing, deployments, VAPT</td><td>C</td></tr>
          <tr><td>Clinic Ops Lead</td><td>Onboard clinics, training</td><td>C</td></tr>
        </tbody>
      </table>

      <h5>3.4 Targeted Audience</h5>
      <p style="color:var(--muted)">Primary segments and size estimates (Saudi Arabia initial geography):</p>
      <ul style="color:var(--muted)">
        <li><strong>TAM (Total Addressable Market):</strong> 20M adults (18–60) in KSA; assuming 25% interested in aesthetics/telehealth = 5M.</li>
        <li><strong>SAM (Serviceable Addressable Market):</strong> urban population in Riyadh/Jeddah/Dammam ~3M; target reachable via digital channels = 1.2M.</li>
        <li><strong>SOM (Serviceable Obtainable Market) Year 1:</strong> 10,000 MAU (~0.83% of SAM monthly users) — realistic for a focused launch with clinic partnerships.</li>
      </ul>

      <!-- 4. Problem Alignment -->
      <h4>4. Problem Alignment</h4>
      <h5>4.1 Project Description & Primary Benefits</h5>
      <p style="color:var(--muted)">Create a single platform that blends AI diagnosis (skin/dental) in natural Saudi Arabic with in-app commerce — so patients move from concern to booking in under 30 seconds, while clinics receive higher-quality leads and measurable ROI.</p>
      <ul style="color:var(--muted)">
        <li>Primary benefits for patients: fast triage, curated packages, one-tap bookings, localized language support.</li>
        <li>Primary benefits for clinics: higher conversion of inquiries (+25%), reduced no-shows (via deposits & reminders, -15%), and actionable analytics.</li>
      </ul>

      <h5>4.2 Vision (long-term)</h5>
      <p style="color:var(--muted)">Within 3 years become the leading GCC telehealth + aesthetics marketplace, expand services into full cosmetic e-commerce (products, AR previews), and integrate insurance claims (NPHIES) where applicable.</p>

      <h5>4.3 Customer Challenges</h5>
      <ul style="color:var(--muted)">
        <li><strong>Trust in digital diagnosis:</strong> Users often distrust automated tools — solution: doctor handoff + transparent consent and "preliminary only" banners (expected to increase trust by 18%).</li>
        <li><strong>Language friction:</strong> Many Arabic dialects cause misinterpretation — we invest in Saudi colloquial NLP training (estimated 300–500 labeled conversation hours) to reduce misclassification by 30% vs generic Arabic models.</li>
        <li><strong>Clinic conversion:</strong> Many leads do not convert due to friction — one-tap checkout & deposits aim to raise conversion by 25% within 6 months.</li>
      </ul>

      <!-- 5. Competitor Analysis -->
      <h4>5. Competitor Analysis</h4>
      <p style="color:var(--muted)"><strong>Purpose:</strong> identify product gaps to build unique value. Focus on AI+Commerce advantage.</p>

      <h5>Key Competitors (summary)</h5>
      <table class="table" style="margin-bottom:12px">
        <thead><tr><th>Competitor</th><th>Product Summary</th><th>Pricing / Market Share</th></tr></thead>
        <tbody>
          <tr><td>DermEngine</td><td>Advanced dermatology imaging & analysis API for professionals</td><td>Enterprise licensing; estimated <$5M ARR (B2B niche)</td></tr>
          <tr><td>FirstDerm</td><td>Consumer tele-dermatology; doctor responses</td><td>Consumer app model; pay-per-case $10–$30</td></tr>
          <tr><td>Vezeeta</td><td>Regional healthcare booking marketplace (MENA)</td><td>Large regional share for bookings; commission-based</td></tr>
          <tr><td>SkinVision</td><td>Mole/suspicion detection app (medical focus)</td><td>Subscription & B2B models; limited commerce</td></tr>
        </tbody>
      </table>

      <h5>Competitor Deep Dive (example: DermEngine)</h5>
      <ul style="color:var(--muted)">
        <li><strong>USP:</strong> Best-in-class dermatology imaging tools for clinicians.</li>
        <li><strong>SWOT:</strong> Strength = technical accuracy; Weakness = no commerce layer; Opportunity = B2B partnerships with clinics; Threat = consumer apps bundling services.</li>
        <li><strong>User Flow:</strong> Clinician uploads images → advanced analysis → report. (No direct consumer booking flow.)</li>
      </ul>

      <!-- 6. SWOT Analysis -->
      <h4>6. SWOT Analysis of Telehealth + Aesthetic Commerce</h4>
      <ul style="color:var(--muted)">
        <li><strong>Strengths:</strong> Arabic-first AI + commerce fusion; PDPL focus; clinic tools.</li>
        <li><strong>Weaknesses:</strong> AI development & labeling cost (est. $15–25k), time to regulatory sign-off.</li>
        <li><strong>Opportunities:</strong> 20% CAGR telehealth; expand to GCC; AR features can increase conversions by 20%.</li>
        <li><strong>Threats:</strong> Large marketplaces adding AI; data privacy incidents increasing compliance scrutiny.</li>
      </ul>

      <!-- 7. USPs -->
      <h4>7. Unique Selling Points</h4>
      <ol style="color:var(--muted)">
        <li>Conversational Saudi-Arabic AI that acts as both diagnostician and sales assistant (expected uplift: +25% booking conversion).</li>
        <li>One-tap commerce linking recommendations to instant bookings and deposit workflows.</li>
        <li>Clinic-facing analytics that attribute revenue back to AI referrals (closed-loop measurement).</li>
      </ol>

      <!-- 8. Proposed Functionalities (detailed) -->
      <h4>8. Proposed Functionalities — Prioritized & Estimated</h4>
      <p style="color:var(--muted)">Each feature includes priority, estimated dev hours, and expected business impact.</p>

      <table class="table" style="margin-bottom:12px">
        <thead><tr><th>Feature</th><th>Priority</th><th>Est. Dev Hours</th><th>Expected Impact</th></tr></thead>
        <tbody>
          <tr><td>AI chat w/ Saudi Arabic NLP + photo diagnosis</td><td>Must</td><td>320 hrs (AI engineer + annotators)</td><td>+25% conversions on referrals</td></tr>
          <tr><td>One-tap checkout + payments</td><td>Must</td><td>160 hrs</td><td>Reduce checkout time to <20s; +15% completion</td></tr>
          <tr><td>Clinic dashboard (scheduling, case mgmt)</td><td>Must</td><td>200 hrs</td><td>Reduce admin overhead; +10% clinic conversion</td></tr>
          <tr><td>Loyalty & coupons</td><td>Should</td><td>80 hrs</td><td>+20% retention over 6 months</td></tr>
          <tr><td>AR cosmetic preview (Phase 2)</td><td>Could</td><td>240 hrs</td><td>+20% purchase intent</td></tr>
          <tr><td>Insurance (NPHIES) integration</td><td>Could</td><td>160 hrs</td><td>Expand SAM by 18%</td></tr>
        </tbody>
      </table>

      <!-- 9. Conclusion & Next Steps -->
      <h4>9. Conclusion</h4>
      <p style="color:var(--muted)">This MRD defines a measurable, phased path to launch a PDPL-compliant telehealth commerce platform in KSA — delivering measurable lift in clinic conversion and monetization. Recommended immediate next steps:</p>
      <ol style="color:var(--muted)">
        <li>Approve tier & budget.</li>
        <li>Start 2-week discovery and compliance mapping.</li>
        <li>Begin data collection & pilot clinic recruitment for AI training.</li>
      </ol>

      <!-- 10. Signatory Authority -->
      <h4>10. Signatory Authority</h4>
      <p style="color:var(--muted)">Name: __________________________</p>
      <p style="color:var(--muted)">Company: _______________________</p>
      <p style="color:var(--muted)">Signature / Date: ________________</p>

      <!-- Appendix: detailed estimation tables for all 3 pricing plans -->
      <h4 style="margin-top:12px">Appendix A — Estimation Tables (Detailed)</h4>

      <!-- Assumptions -->
      <div style="color:var(--muted);margin-bottom:8px"><strong>Assumptions:</strong> blended rates — Senior Engineer $65/hr, Mid $45/hr, Designer $40/hr, QA/DevOps $40/hr, AI Specialist $75/hr. Project durations approximate.</div>

      <!-- Table for Basic -->
      <h5>Basic Plan — $45,000</h5>
      <table class="table">
        <thead><tr><th>Task</th><th>Role</th><th>Hours</th><th>Rate</th><th>Cost</th></tr></thead>
        <tbody>
          <tr><td>Discovery & Req</td><td>PO/PM</td><td>60</td><td>$65</td><td>$3,900</td></tr>
          <tr><td>Design (MVP screens)</td><td>Designer</td><td>80</td><td>$40</td><td>$3,200</td></tr>
          <tr><td>Mobile Dev (core)</td><td>Mid Dev</td><td>300</td><td>$45</td><td>$13,500</td></tr>
          <tr><td>Backend (core APIs)</td><td>Mid Dev</td><td>200</td><td>$45</td><td>$9,000</td></tr>
          <tr><td>QA & Deployment</td><td>QA/DevOps</td><td>80</td><td>$40</td><td>$3,200</td></tr>
          <tr><td>PM & Communication</td><td>PO/PM</td><td>60</td><td>$65</td><td>$3,900</td></tr>
          <tr><td><strong>Subtotal</strong></td><td></td><td>780</td><td></td><td><strong>$37,700</strong></td></tr>
          <tr><td>Contingency (20%)</td><td></td><td></td><td></td><td>$7,540</td></tr>
          <tr><td><strong>Total</strong></td><td></td><td></td><td></td><td><strong>$45,240 (~$45,000)</strong></td></tr>
        </tbody>
      </table>

      <!-- Standard -->
      <h5>Standard Plan — $65,000</h5>
      <table class="table">
        <thead><tr><th>Task</th><th>Role</th><th>Hours</th><th>Rate</th><th>Cost</th></tr></thead>
        <tbody>
          <tr><td>Discovery & Compliance</td><td>PO/PM</td><td>80</td><td>$65</td><td>$5,200</td></tr>
          <tr><td>Design (Arabic-first)</td><td>Designer</td><td>120</td><td>$40</td><td>$4,800</td></tr>
          <tr><td>Mobile Dev</td><td>Mid/Senior</td><td>420</td><td>$50 avg</td><td>$21,000</td></tr>
          <tr><td>Backend & Integrations</td><td>Mid Dev</td><td>320</td><td>$45</td><td>$14,400</td></tr>
          <tr><td>AI Integration (off-the-shelf)</td><td>AI Specialist</td><td>120</td><td>$75</td><td>$9,000</td></tr>
          <tr><td>QA & Security</td><td>QA/DevOps</td><td>140</td><td>$40</td><td>$5,600</td></tr>
          <tr><td>PM</td><td>PO/PM</td><td>100</td><td>$65</td><td>$6,500</td></tr>
          <tr><td><strong>Subtotal</strong></td><td></td><td>1,280</td><td></td><td><strong>$66,500</strong></td></tr>
          <tr><td>Discount / Efficiency</td><td></td><td></td><td></td><td>- $1,500</td></tr>
          <tr><td><strong>Total</strong></td><td></td><td></td><td></td><td><strong>$65,000</strong></td></tr>
        </tbody>
      </table>

      <!-- Premium -->
      <h5>Premium Plan — $90,600 (Detailed)</h5>
      <table class="table">
        <thead><tr><th>Task</th><th>Role</th><th>Hours</th><th>Rate</th><th>Cost</th></tr></thead>
        <tbody>
          <tr><td>Discovery & Legal (PDPL)</td><td>PO/PM + Legal Consultant</td><td>100</td><td>$75 avg</td><td>$7,500</td></tr>
          <tr><td>Design (Arabic-first, WCAG)</td><td>Senior Designer</td><td>140</td><td>$45</td><td>$6,300</td></tr>
          <tr><td>Mobile Dev (React Native, full)</td><td>2 Devs (Senior+Mid)</td><td>700</td><td>$55 avg</td><td>$38,500</td></tr>
          <tr><td>Backend & Scalability</td><td>Senior Backend</td><td>420</td><td>$60</td><td>$25,200</td></tr>
          <tr><td>AI (custom models, dataset mgmt)</td><td>AI Specialist + Annotators</td><td>300</td><td>$75</td><td>$22,500</td></tr>
          <tr><td>QA, VAPT, & Performance</td><td>QA/DevOps</td><td>200</td><td>$45</td><td>$9,000</td></tr>
          <tr><td>PM & Handover</td><td>PO/PM</td><td>120</td><td>$65</td><td>$7,800</td></tr>
          <tr><td><strong>Subtotal</strong></td><td></td><td>1,980</td><td></td><td><strong>$116,800</strong></td></tr>
          <tr><td>Adjusted for packaged pricing & efficiencies (-22%)</td><td></td><td></td><td></td><td>- $26,200</td></tr>
          <tr><td><strong>Total</strong></td><td></td><td></td><td></td><td><strong>$90,600</strong></td></tr>
        </tbody>
      </table>

      <div style="color:var(--muted);margin-top:10px">All plans include CI/CD setup, staging & production environments, app store packaging, and documentation; Premium includes VAPT & 60-day warranty.</div>

      <!-- KPIs & Market sizing -->
      <h4 style="margin-top:12px">KPIs & Market Sizing</h4>
      <table class="table">
        <thead><tr><th>KPI</th><th>Target (12 months)</th></tr></thead>
        <tbody>
          <tr><td>MAU</td><td>10,000</td></tr>
          <tr><td>Conversion Rate (AI referral)</td><td>3% baseline → 3.75% (25% uplift)</td></tr>
          <tr><td>Retention (30-day)</td><td>40%</td></tr>
          <tr><td>Average Order Value</td><td>$70</td></tr>
          <tr><td>Customer Acquisition Cost (CAC)</td><td>$18 (paid channels)</td></tr>
          <tr><td>Lifetime Value (LTV)</td><td>$180</td></tr>
        </tbody>
      </table>

      <!-- User flows & Accessibility -->
      <h4 style="margin-top:12px">Sample User Flows & Accessibility</h4>
      <ol style="color:var(--muted)">
        <li>Open app → OTP login → Quick profile → Upload photo or start chat → AI verifies photo → Suggest & Show "Buy Now + Book" → Checkout.</li>
        <li>Doctor handoff: AI escalates to doctor queue → teleconsult or in-clinic appointment → follow-up messages & record stored.</li>
      </ol>
      <p style="color:var(--muted)">Accessibility plan: WCAG 2.1 AA support, large legible fonts, ARIA attributes for dynamic content, RTL/Arabic first layout.</p>

      <p style="color:var(--muted);margin-top:10px"><strong>Freelancer compliance:</strong> All communication and payments must be handled via Freelancer in accordance with Freelancer policies. This proposal assumes platform-based engagement and payment flow via Freelancer.</p>

    </div>
  </div>

  <!-- Footer ribbon -->
  <div class="ribbon" role="note" aria-label="Freelancer policy note">
    All project communication and payments will be handled exclusively through Freelancer in accordance with Freelancer policies.
  </div>

  <div class="footer" aria-hidden="true">
    <small>Proposal document — Telehealth + Aesthetic Commerce Platform • No direct contact information is included per policy.</small>
  </div>

</div>

<!-- ======================
   JavaScript: interactions, counters, charts
   Vanilla JS only, lightweight
   ====================== -->
<script>
/* Utility: reveal on scroll */
function onVisible(el, cb){ const obs=new IntersectionObserver((entries)=>{entries.forEach(e=>{ if(e.isIntersecting){ cb(); obs.unobserve(el); }}) },{threshold:0.2}); obs.observe(el); }

/* Counters animation */
document.querySelectorAll('.counter').forEach(c=>{
  const target = parseFloat(c.dataset.target.replace(/,/g,'')) || 0;
  onVisible(c, ()=>{
    let start=0, duration=1200, startTs=null;
    const step=(ts)=>{
      if(!startTs) startTs=ts;
      const progress=Math.min((ts-startTs)/duration,1);
      const val = Math.floor(progress*target);
      c.textContent = target>=1000 ? (Math.floor(val)).toLocaleString() : val;
      if(progress<1) requestAnimationFrame(step);
      else c.textContent = target>=1000 ? target.toLocaleString() : target;
    };
    requestAnimationFrame(step);
  });
});

/* Simple sparkline using SVG */
(function(){
  const data=[120,140,165,210,190,230,270,300,330,360,420];
  const wrap = document.getElementById('sparkline');
  const w = wrap.clientWidth, h = wrap.clientHeight;
  const svgNS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(svgNS,'svg'); svg.setAttribute('width','100%'); svg.setAttribute('height','100%');
  const max = Math.max(...data), min=Math.min(...data);
  const points = data.map((v,i)=> {
    const x = (i/(data.length-1))*(w-20)+10;
    const y = h - ((v-min)/(max-min))*(h-30) - 10;
    return `${x},${y}`;
  }).join(' ');
  const poly = document.createElementNS(svgNS,'polyline');
  poly.setAttribute('points', points);
  poly.setAttribute('fill','none');
  poly.setAttribute('stroke','white');
  poly.setAttribute('stroke-width','3');
  poly.setAttribute('stroke-linecap','round');
  poly.setAttribute('stroke-linejoin','round');
  svg.appendChild(poly);
  wrap.appendChild(svg);
})();

/* Bar Chart (basic interactive) */
(function(){
  const data = [
    {label:'Basic', cost:45000, months:5},
    {label:'Standard', cost:65000, months:6},
    {label:'Premium', cost:90600, months:7}
  ];
  const container = document.getElementById('barChart');
  const w = container.clientWidth, h = container.clientHeight;
  const svgNS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(svgNS,'svg');
  svg.setAttribute('width','100%');
  svg.setAttribute('height','100%');
  container.appendChild(svg);
  const max = Math.max(...data.map(d=>d.cost));
  data.forEach((d,i)=>{
    const barW = (w - 80)/data.length;
    const x = 20 + i*(barW + 20);
    const barH = (d.cost / max) * (h - 80);
    const y = h - barH - 40;
    const rect = document.createElementNS(svgNS,'rect');
    rect.setAttribute('x', x); rect.setAttribute('y', y); rect.setAttribute('width', barW); rect.setAttribute('height', barH);
    rect.setAttribute('fill', i===2 ? 'url(#grad-orange)' : 'url(#grad-primary)');
    rect.style.transition = 'all 600ms ease';
    svg.appendChild(rect);
    // label
    const txt = document.createElementNS(svgNS,'text'); txt.setAttribute('x', x + barW/2); txt.setAttribute('y', h-18);
    txt.setAttribute('text-anchor','middle'); txt.setAttribute('font-size','12'); txt.setAttribute('fill','#cfe7ff');
    txt.textContent = d.label; svg.appendChild(txt);
    // tooltip
    rect.addEventListener('mouseenter', (e)=> { showTooltip(e.clientX, e.clientY, `${d.label}: $${d.cost.toLocaleString()} • ${d.months} months`); });
    rect.addEventListener('mouseleave', hideTooltip);
  });

  // gradients
  const defs = document.createElementNS(svgNS,'defs');
  defs.innerHTML = `
    <linearGradient id="grad-primary" x1="0" x2="1"><stop offset="0" stop-color="${getComputedStyle(document.documentElement).getPropertyValue('--primary-grad-start').trim()}"/><stop offset="1" stop-color="${getComputedStyle(document.documentElement).getPropertyValue('--primary-grad-end').trim()}"/></linearGradient>
    <linearGradient id="grad-orange" x1="0" x2="1"><stop offset="0" stop-color="${getComputedStyle(document.documentElement).getPropertyValue('--accent-2-start').trim()}"/><stop offset="1" stop-color="${getComputedStyle(document.documentElement).getPropertyValue('--accent-2-end').trim()}"/></linearGradient>
  `;
  svg.insertBefore(defs, svg.firstChild);

  const tooltip = document.createElement('div'); tooltip.style.position='fixed'; tooltip.style.padding='8px 10px'; tooltip.style.background='rgba(6,12,30,0.9)'; tooltip.style.color='white'; tooltip.style.borderRadius='8px'; tooltip.style.pointerEvents='none'; tooltip.style.display='none'; tooltip.style.fontSize='13px'; tooltip.style.zIndex=9999;
  document.body.appendChild(tooltip);
  function showTooltip(x,y,txt){ tooltip.style.left=(x+12)+'px'; tooltip.style.top=(y+12)+'px'; tooltip.innerText=txt; tooltip.style.display='block'; }
  function hideTooltip(){ tooltip.style.display='none'; }
})();

/* Stacked chart: feature coverage */
(function(){
  const data = [
    {name:'AI', basic:0, standard:60, premium:100},
    {name:'Payments', basic:70, standard:90, premium:100},
    {name:'Analytics', basic:30, standard:70, premium:100},
    {name:'Security', basic:60, standard:85, premium:100}
  ];
  const c = document.getElementById('stackChart'); const w=c.clientWidth; const h=c.clientHeight;
  const svgNS="http://www.w3.org/2000/svg"; const svg=document.createElementNS(svgNS,'svg'); svg.setAttribute('width','100%'); svg.setAttribute('height','100%'); c.appendChild(svg);
  const pad=12; const rowH=(h-40)/data.length;
  data.forEach((d,i)=>{
    const y = 20 + i*rowH;
    // labels
    const label = document.createElementNS(svgNS,'text'); label.setAttribute('x',14); label.setAttribute('y', y+rowH/2+6); label.setAttribute('fill','#cfe7ff'); label.setAttribute('font-size','12'); label.textContent=d.name; svg.appendChild(label);
    const barX=120; const barW=w-barX-30; const basicW=(d.basic/100)*barW; const stdW=(d.standard/100)*barW; const premW=(d.premium/100)*barW;
    const rect1 = document.createElementNS(svgNS,'rect'); rect1.setAttribute('x',barX); rect1.setAttribute('y',y+6); rect1.setAttribute('width',basicW); rect1.setAttribute('height',rowH-12); rect1.setAttribute('fill','rgba(255,255,255,0.06)'); svg.appendChild(rect1);
    const rect2 = document.createElementNS(svgNS,'rect'); rect2.setAttribute('x',barX+basicW); rect2.setAttribute('y',y+6); rect2.setAttribute('width',stdW-basicW); rect2.setAttribute('height',rowH-12); rect2.setAttribute('fill','rgba(185,255,59,0.12)'); svg.appendChild(rect2);
    const rect3 = document.createElementNS(svgNS,'rect'); rect3.setAttribute('x',barX+stdW); rect3.setAttribute('y',y+6); rect3.setAttribute('width',premW-stdW); rect3.setAttribute('height',rowH-12); rect3.setAttribute('fill','rgba(255,106,0,0.16)'); svg.appendChild(rect3);
    // hover tooltips
    [rect1,rect2,rect3].forEach(r=>{
      r.addEventListener('mouseenter',(e)=>{ const txt=`${d.name} — Basic ${d.basic}% • Standard ${d.standard}% • Premium ${d.premium}%`; showStackTooltip(e.clientX,e.clientY,txt);});
      r.addEventListener('mouseleave',hideStackTooltip);
    });
  });
  const stackTip=document.createElement('div'); stackTip.style.position='fixed'; stackTip.style.background='rgba(2,6,22,0.9)'; stackTip.style.color='white'; stackTip.style.padding='8px 10px'; stackTip.style.borderRadius='8px'; stackTip.style.display='none'; stackTip.style.zIndex=9999; stackTip.style.fontSize='13px'; document.body.appendChild(stackTip);
  function showStackTooltip(x,y,txt){ stackTip.style.left=(x+12)+'px'; stackTip.style.top=(y+12)+'px'; stackTip.textContent=txt; stackTip.style.display='block'; }
  function hideStackTooltip(){ stackTip.style.display='none'; }
})();

/* Smooth scrolling helper */
function scrollToSection(id){ document.getElementById(id).scrollIntoView({behavior:'smooth',block:'start'}); }

/* Reveal elements on scroll */
document.querySelectorAll('.fade-in').forEach(el => onVisible(el, ()=> el.classList.add('revealed')));

/* Replace CSS variable logo-url if brandLogo src changes (for watermark) */
(function(){
  const logo = document.getElementById('brandLogo');
  // if logo exists, set CSS var to its current src to reflect watermark
  if(logo && logo.src){
    document.documentElement.style.setProperty('--logo-url', `"${logo.getAttribute('src')}"`);
  }
})();
</script>

</body>
</html>
